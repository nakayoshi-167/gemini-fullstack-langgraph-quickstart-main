# ãƒ‡ã‚£ãƒ¼ãƒ—ãƒªã‚µãƒ¼ãƒã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®è¨­è¨ˆï¼šåå¾©ãƒ«ãƒ¼ãƒ—ã‹ã‚‰ãƒãƒ«ãƒã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆçµ±åˆã¸ LangGraphã‚’ç”¨ã„ãŸå®Ÿè£…ã‚¬ã‚¤ãƒ‰

## ã‚¨ã‚°ã‚¼ã‚¯ãƒ†ã‚£ãƒ–ã‚µãƒãƒªãƒ¼

æœ¬ãƒ¬ãƒãƒ¼ãƒˆã¯ã€Gemini Fullstack LangGraph Quickstartã‚’ã€é«˜åº¦ãªãƒ‡ã‚£ãƒ¼ãƒ—ãƒªã‚µãƒ¼ãƒã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã¸ã¨æ˜‡è¯ã•ã›ã‚‹ãŸã‚ã®ã€æ®µéšçš„ãªæŠ€è¡“ã‚¬ã‚¤ãƒ‰ã‚’æä¾›ã™ã‚‹ã“ã¨ã‚’ç›®çš„ã¨ã—ã¦ã„ã¾ã™ã€‚åˆ†æã®ä¸­å¿ƒã¯ã€å˜ä¸€ã®åå¾©å‹ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‹ã‚‰ã€ã‚¹ãƒ¼ãƒ‘ãƒ¼ãƒã‚¤ã‚¶ãƒ¼ãƒ»ãƒ¯ãƒ¼ã‚«ãƒ¼ãƒ‘ãƒ©ãƒ€ã‚¤ãƒ ã«åŸºã¥ããƒãƒ«ãƒã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚·ã‚¹ãƒ†ãƒ ã¸ã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è»¢æ›ã§ã™ã€‚

ã“ã®é€²åŒ–ã®æ ¸ã¨ãªã‚‹ã®ã¯ã€çŠ¶æ…‹ç®¡ç†ï¼ˆã‚¹ãƒ†ãƒ¼ãƒˆãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆï¼‰ã€å°‚é–€åŒ–ã•ã‚ŒãŸãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°ã€ãã—ã¦ä¿¡é ¼æ€§ã®é«˜ã„å¼·åŠ›ãªãƒªã‚µãƒ¼ãƒãƒ„ãƒ¼ãƒ«ã‚’æ§‹ç¯‰ã™ã‚‹ãŸã‚ã®åˆ¶å¾¡ãƒ¡ã‚«ãƒ‹ã‚ºãƒ ï¼ˆæ‰¹è©•ãƒ«ãƒ¼ãƒ—ã€ãƒ’ãƒ¥ãƒ¼ãƒãƒ³ã‚¤ãƒ³ã‚¶ãƒ«ãƒ¼ãƒ—ï¼‰ã®å°å…¥ã§ã™ã€‚æœ¬ã‚¬ã‚¤ãƒ‰ã¯ã€é–‹ç™ºè€…ãŒgraph.pyã¨prompts.pyã‚’å…·ä½“çš„ã«ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã—ã€æ§‹é€ åŒ–ã•ã‚ŒãŸè¨ˆç”»ã€ä¸¦åˆ—åŒ–ã•ã‚ŒãŸãƒªã‚µãƒ¼ãƒã€æ‰¹åˆ¤çš„è©•ä¾¡ã€ãã—ã¦æ¤œè¨¼å¯èƒ½ãªå¼•ç”¨æƒ…å ±ã‚’ä¼´ã†ä¸€è²«ã—ãŸçµ±åˆãƒ¬ãƒãƒ¼ãƒˆç”ŸæˆãŒå¯èƒ½ãªã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚’æ§‹ç¯‰ã™ã‚‹ãŸã‚ã®ã€å®Ÿè·µçš„ãªè¨­è¨ˆå›³ã‚’æç¤ºã—ã¾ã™ã€‚

---

## ã‚»ã‚¯ã‚·ãƒ§ãƒ³1: åŸºç›¤ã¨ãªã‚‹ãƒªã‚µãƒ¼ãƒãƒ»ãƒ«ãƒ¼ãƒ—ã®è§£ä½“

  

é«˜åº¦ãªã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã‚’æ§‹ç¯‰ã™ã‚‹å‰ã«ã€ã¾ãšå‡ºç™ºç‚¹ã¨ãªã‚‹æ—¢å­˜ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®æ§‹é€ ã¨ã€ãã®å†…åœ¨çš„ãªé™ç•Œã‚’æ­£ç¢ºã«ç†è§£ã™ã‚‹ã“ã¨ãŒä¸å¯æ¬ ã§ã™ã€‚

  

### 1.1. gemini-fullstack-langgraph-quickstartã®ãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

  

Gemini Fullstack LangGraph Quickstartãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ã€LangGraphã‚’ç”¨ã„ãŸãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯AIã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®å„ªã‚ŒãŸå…¥é–€ä¾‹ã§ã™ ã€‚ãã®ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®ã‚³ã‚¢ãƒ­ã‚¸ãƒƒã‚¯ã¯ã€æ˜ç¢ºãªå‘¨æœŸçš„ãƒ—ãƒ­ã‚»ã‚¹ã«åŸºã¥ã„ã¦ã„ã¾ã™ã€‚ã€ŒåˆæœŸã‚¯ã‚¨ãƒªã®ç”Ÿæˆ â†’ ã‚¦ã‚§ãƒ–ãƒªã‚µãƒ¼ãƒ â†’ çµæœã®è€ƒå¯Ÿã¨çŸ¥è­˜ã‚®ãƒ£ãƒƒãƒ—ã®åˆ†æ â†’ åå¾©çš„ãªæ”¹è‰¯ã€ã¨ã„ã†ã‚µã‚¤ã‚¯ãƒ«ã§ã™ ã€‚

graph.pyã§å®šç¾©ã•ã‚Œã¦ã„ã‚‹ã‚°ãƒ©ãƒ•æ§‹é€ ã¯ã€ã“ã®ãƒ­ã‚¸ãƒƒã‚¯ã‚’ç›´æ¥çš„ã«å®Ÿè£…ã—ãŸã‚‚ã®ã§ã™ã€‚ã‚°ãƒ©ãƒ•ã¯ã€generate_queryã€web_searchã€reflectionã€finalize_answerã¨ã„ã£ãŸä¸€é€£ã®ãƒãƒ¼ãƒ‰ï¼ˆå‡¦ç†ã‚¹ãƒ†ãƒƒãƒ—ï¼‰ã§æ§‹æˆã•ã‚Œã¦ã„ã¾ã™ 2ã€‚ã“ã‚Œã‚‰ã®ãƒãƒ¼ãƒ‰ã¯æ¡ä»¶ä»˜ãã‚¨ãƒƒã‚¸ï¼ˆåˆ†å²ï¼‰ã«ã‚ˆã£ã¦æ¥ç¶šã•ã‚Œã€è¨­å®šã•ã‚ŒãŸæœ€å¤§åå¾©å›æ•°ã«é”ã™ã‚‹ã¾ã§ãƒ«ãƒ¼ãƒ—ã‚’å½¢æˆã—ã¾ã™ ã€‚ã“ã®ã‚·ãƒ³ãƒ—ãƒ«ãªå˜ä¸€ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã«ã‚ˆã‚‹ãƒ«ãƒ¼ãƒ—æ§‹é€ ã¯ã€åŸºæœ¬çš„ãªã‚¯ã‚¨ãƒªã«å¯¾ã—ã¦ã¯æœ‰åŠ¹ã§ã™ãŒã€ãƒ‡ã‚£ãƒ¼ãƒ—ãƒªã‚µãƒ¼ãƒã«æ±‚ã‚ã‚‰ã‚Œã‚‹è¤‡é›‘æ€§ã«ã¯å¯¾å¿œã§ãã¾ã›ã‚“ã€‚

åŒæ§˜ã«ã€prompts.pyã«å«ã¾ã‚Œã‚‹ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚‚ã€æ±ç”¨çš„ãªç›®çš„ã§è¨­è¨ˆã•ã‚Œã¦ã„ã¾ã™ã€‚æ¤œç´¢ã‚¯ã‚¨ãƒªã‚’ç”Ÿæˆã—ã€ãã®çµæœã‚’è€ƒå¯Ÿã™ã‚‹ãŸã‚ã®ä¸€èˆ¬çš„ãªæŒ‡ç¤ºãŒå«ã¾ã‚Œã¦ã„ã¾ã™ãŒã€ãƒ‡ã‚£ãƒ¼ãƒ—ãƒªã‚µãƒ¼ãƒãŒè¦æ±‚ã™ã‚‹ã‚ˆã†ãªã€è¨ˆç”»ã€èª¿æŸ»ã€çµ±åˆã¨ã„ã£ãŸè¤‡é›‘ãªã‚µãƒ–ã‚¿ã‚¹ã‚¯ã«å¿œã˜ãŸå½¹å‰²ã®å°‚é–€åŒ–ãŒæ¬ å¦‚ã—ã¦ã„ã¾ã™ã€‚

  

### 1.2. ãƒ‡ã‚£ãƒ¼ãƒ—ãƒªã‚µãƒ¼ãƒã«ãŠã‘ã‚‹ä¸­å¿ƒçš„é™ç•Œã®ç‰¹å®š

  

ãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã¯å …å®Ÿãªå‡ºç™ºç‚¹ã§ã™ãŒã€ãƒ‡ã‚£ãƒ¼ãƒ—ãƒªã‚µãƒ¼ãƒã®è¦æ±‚æ°´æº–ã«ã¯ã„ãã¤ã‹ã®æ ¹æœ¬çš„ãªé™ç•ŒãŒã‚ã‚Šã¾ã™ã€‚

- ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£ã®ãƒœãƒˆãƒ«ãƒãƒƒã‚¯: æ¤œç´¢ãƒ—ãƒ­ã‚»ã‚¹ãŒåå¾©çš„ã‹ã¤é€æ¬¡çš„ã§ã‚ã‚‹ãŸã‚ã€éåŠ¹ç‡ã§ã™ã€‚AIãŒæŒã¤ç‹¬è‡ªã®åˆ©ç‚¹ã®ä¸€ã¤ã¯ã€ã€Œå¤šæ•°ã®æ¤œç´¢ã‚’ä¸¦è¡Œã—ã¦é–‹å§‹ã€ã§ãã‚‹èƒ½åŠ›ã«ã‚ã‚Šã¾ã™ãŒã€ãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã¯ã“ã®æ©Ÿä¼šã‚’æ´»ã‹ã›ã¦ã„ã¾ã›ã‚“ 3ã€‚
    
- èªçŸ¥çš„éè² è·: è¨ˆç”»ã€æ¤œç´¢ã€çµ±åˆã¨ã„ã†è¤‡æ•°ã®è²¬å‹™ã‚’å˜ä¸€ã®ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãŒæ‹…ã†ã¨ã€ã‚¿ã‚¹ã‚¯ã®è¤‡é›‘æ€§ãŒå¢—ã™ã«ã¤ã‚Œã¦ãã®åŠ¹ç‡ã¯ä½ä¸‹ã—ã¾ã™ã€‚ç”Ÿã®ãƒªã‚µãƒ¼ãƒçµæœãŒã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚’è‚¥å¤§åŒ–ã•ã›ã€ã€Œé•·æœŸã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã®å¤±æ•—ãƒ¢ãƒ¼ãƒ‰ã€ã‚’å¼•ãèµ·ã“ã™å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ 4ã€‚
    
- æ§‹é€ åŒ–ã•ã‚ŒãŸè¨ˆç”»ã®æ¬ å¦‚: ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã¯æ¤œç´¢ã‚¯ã‚¨ãƒªã®ãƒ•ãƒ©ãƒƒãƒˆãªãƒªã‚¹ãƒˆã‚’ç”Ÿæˆã™ã‚‹ã ã‘ã§ã‚ã‚Šã€äººé–“ãŒä¸»å°ã™ã‚‹ãƒ‡ã‚£ãƒ¼ãƒ—ãƒªã‚µãƒ¼ãƒã®åŸºæœ¬ã§ã‚ã‚‹éšå±¤çš„ãªãƒªã‚µãƒ¼ãƒè¨ˆç”»ã‚„ã‚¢ã‚¦ãƒˆãƒ©ã‚¤ãƒ³ã‚’ä½œæˆã—ã¾ã›ã‚“ 5ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€èª¿æŸ»ãŒä½“ç³»çš„ã§ãªããªã‚Šã€è¡¨å±¤çš„ãªã‚‚ã®ã«ç•™ã¾ã‚‹å±é™ºæ€§ãŒã‚ã‚Šã¾ã™ã€‚
    
- è¡¨å±¤çš„ãªçµ±åˆ: finalize_answerãƒãƒ¼ãƒ‰ã¯ã€åé›†ã•ã‚ŒãŸãƒ†ã‚­ã‚¹ãƒˆã‚’å˜ç´”ã«çµ±åˆã™ã‚‹ã ã‘ã§ã™ã€‚æ‰¹åˆ¤çš„ãªè©•ä¾¡ã‚„æ§‹é€ åŒ–ã•ã‚ŒãŸåŸ·ç­†ãƒ—ãƒ­ã‚»ã‚¹ãŒæ¬ ã‘ã¦ã„ã‚‹ãŸã‚ã€ååˆ†ã«è«–è¨¼ã•ã‚ŒãŸãƒ¬ãƒãƒ¼ãƒˆã§ã¯ãªãã€å˜ãªã‚‹è¦ç´„ã«ãªã£ã¦ã—ã¾ã†å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚
    

ã“ã‚Œã‚‰ã®é™ç•Œã¯ã€å˜ãªã‚‹æœ€é©åŒ–ã®å•é¡Œã§ã¯ãªãã€ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãã®ã‚‚ã®ãŒæŒã¤èƒ½åŠ›ã®ä¸Šé™ã‚’ç¤ºå”†ã—ã¦ã„ã¾ã™ã€‚å˜ä¸€ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®ãƒ«ãƒ¼ãƒ—æ§‹é€ ã¯ã€è¨ˆç”»ã€ä¸¦åˆ—å®Ÿè¡Œã€çµ±åˆã¨ã„ã£ãŸãƒ—ãƒ­ã‚»ã‚¹ã‚’å˜ä¸€ã®æ€è€ƒãƒ—ãƒ­ã‚»ã‚¹å†…ã§ç®¡ç†ã—ã‚ˆã†ã¨è©¦ã¿ã¾ã™ã€‚ã“ã‚Œã¯ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨ˆç”»ã‚„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ãªã—ã«ä¸€äººã®é–‹ç™ºè€…ãŒè¤‡é›‘ãªã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ç®¡ç†ã—ã‚ˆã†ã¨ã™ã‚‹ã‚ˆã†ãªã‚‚ã®ã§ã™ã€‚ãƒ‡ã‚£ãƒ¼ãƒ—ãƒªã‚µãƒ¼ãƒã¯ã€æœ¬è³ªçš„ã«ã‚¿ã‚¹ã‚¯ã‚’ä¸¦åˆ—åŒ–å¯èƒ½ãªã‚µãƒ–ãƒˆãƒ”ãƒƒã‚¯ã«åˆ†è§£ã™ã‚‹ã“ã¨ã‚’è¦æ±‚ã—ã¾ã™ 4ã€‚å˜ä¸€ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆå†…ã§ä¸¦åˆ—åŒ–ã‚’è©¦ã¿ã‚‹ã¨ã€ã™ã¹ã¦ã®æ¤œç´¢çµæœã‚’ä¸€ã¤ã®ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã«æŠ¼ã—æˆ»ã—ã€åŒã˜ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã«å‡¦ç†ã•ã›ã‚‹ã“ã¨ã«ãªã‚Šã¾ã™ 4ã€‚ã“ã‚Œã¯å¿…ç„¶çš„ã«ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã®é™ç•Œã€ç„¦ç‚¹ã®å–ªå¤±ã€ãã—ã¦å€‹ã€…ã®ã‚µãƒ–ãƒˆãƒ”ãƒƒã‚¯ã«é–¢ã™ã‚‹æ·±ã„æ¨è«–èƒ½åŠ›ã®ä½ä¸‹ã«ã¤ãªãŒã‚Šã¾ã™ã€‚ã—ãŸãŒã£ã¦ã€ä¸¦åˆ—ã‹ã¤ç‹¬ç«‹ã—ãŸèª¿æŸ»ãƒ©ã‚¤ãƒ³ã¨ãã®å¾Œã®é«˜æ¬¡ã®çµ±åˆã‚’å¿…è¦ã¨ã™ã‚‹ã‚¿ã‚¹ã‚¯ã«å¯¾ã—ã¦ã€å˜ä¸€ãƒ«ãƒ¼ãƒ—ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã¯æ§‹é€ çš„ã«ä¸å‘ãã§ã™ã€‚ã“ã®ç†è§£ãŒã€ãƒãƒ«ãƒã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚·ã‚¹ãƒ†ãƒ ã¸ã®ç§»è¡Œã‚’å˜ãªã‚‹æ”¹å–„ã§ã¯ãªãã€å¿…ç„¶çš„ãªé¸æŠã¨ã™ã‚‹æ ¹æ‹ ã¨ãªã‚Šã¾ã™ã€‚

---

## ã‚»ã‚¯ã‚·ãƒ§ãƒ³2: ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®é€²åŒ–ï¼šãƒ‡ã‚£ãƒ¼ãƒ—ãƒªã‚µãƒ¼ãƒã®ãŸã‚ã®3ã¤ã®ãƒ‘ã‚¿ãƒ¼ãƒ³

  

ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®èƒ½åŠ›ã‚’æ®µéšçš„ã«å‘ä¸Šã•ã›ã‚‹ãŸã‚ã€ã“ã“ã§ã¯å®Ÿè·µçš„ãª3ã¤ã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’æç¤ºã—ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€è¤‡é›‘æ€§ã¨èƒ½åŠ›ã‚’æ¼¸é€²çš„ã«é«˜ã‚ã‚‹ã“ã¨ãŒå¯èƒ½ã«ãªã‚Šã¾ã™ã€‚

  

### 2.1. ãƒ‘ã‚¿ãƒ¼ãƒ³1: è‡ªå·±ä¿®æ­£å‹ãƒªã‚µãƒ¼ãƒãƒ£ãƒ¼ï¼ˆç”Ÿæˆãƒ»æ‰¹è©•ãƒ«ãƒ¼ãƒ—ï¼‰

  

- æ¦‚å¿µ: ã“ã‚Œã¯æœ€åˆã®é€²åŒ–çš„ã‚¹ãƒ†ãƒƒãƒ—ã§ã™ã€‚å˜ã«æœ€çµ‚å›ç­”ã‚’ç”Ÿæˆã™ã‚‹ã®ã§ã¯ãªãã€æ‰¹è©•ã¨æ”¹è‰¯ã®ãƒ«ãƒ¼ãƒ—ã‚’å°å…¥ã—ã¾ã™ã€‚ã“ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã§ã¯ã€ã€Œç”Ÿæˆè€…ï¼ˆgeneratorï¼‰ã€ãƒãƒ¼ãƒ‰ãŒãƒ‰ãƒ©ãƒ•ãƒˆã‚’ä½œæˆã—ã€ã€Œè€ƒå¯Ÿè€…ï¼ˆreflectorï¼‰ã€ã¾ãŸã¯ã€Œæ‰¹è©•å®¶ï¼ˆcriticï¼‰ã€ãƒãƒ¼ãƒ‰ãŒç‰¹å®šã®åŸºæº–ã«åŸºã¥ã„ã¦ãã‚Œã‚’è©•ä¾¡ã—ã¾ã™ 7ã€‚
    
- graph.pyã§ã®å®Ÿè£…:
    

- æ–°ã—ã„ãƒãƒ¼ãƒ‰critique_reportã‚’è¿½åŠ ã—ã¾ã™ã€‚
    
- finalize_answerï¼ˆdraft_reportã«æ”¹åï¼‰ã‹ã‚‰ã®ã‚¨ãƒƒã‚¸ã¯ã€critique_reportã«å‘ã‹ã†ã‚ˆã†å¤‰æ›´ã—ã¾ã™ã€‚
    
- critique_reportã‹ã‚‰æ–°ãŸãªæ¡ä»¶ä»˜ãã‚¨ãƒƒã‚¸ã‚’è¿½åŠ ã—ã¾ã™ã€‚æ‰¹è©•ã®å‡ºåŠ›ï¼ˆä¾‹ï¼šã€Œåˆæ ¼ã€ã¾ãŸã¯ã€Œä¸åˆæ ¼ã€ã®ã‚¹ã‚³ã‚¢ï¼‰ã«åŸºã¥ãã€ã‚°ãƒ©ãƒ•ã¯draft_reportã«å·®ã—æˆ»ã—ã¦å†è©¦è¡Œã™ã‚‹ã‹ï¼ˆæ‰¹è©•ã‚’æ–°ãŸãªã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã¨ã—ã¦æ¸¡ã™ï¼‰ã€æ–°ã—ã„final_reportãƒãƒ¼ãƒ‰ã«é€²ã¿ã€ENDã«æ¥ç¶šã—ã¾ã™ 10ã€‚
    

- prompts.pyã§ã®å®Ÿè£…:
    

- æ–°ã—ã„ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆCRITIQUE_PROMPTã‚’ä½œæˆã—ã¾ã™ã€‚ã“ã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã¯ã€LLMã«æ‰¹è©•çš„ãªãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ¯ãƒ¼ã¨ã—ã¦æŒ¯ã‚‹èˆã†ã‚ˆã†æŒ‡ç¤ºã—ã€ãƒ‰ãƒ©ãƒ•ãƒˆã®äº‹å®Ÿã®æ­£ç¢ºæ€§ã€è«–ç†çš„ä¸€è²«æ€§ã€å®Œå…¨æ€§ã€æ˜ç­æ€§ã‚’ãƒã‚§ãƒƒã‚¯ã•ã›ã¾ã™ 8ã€‚
    

  

### 2.2. ãƒ‘ã‚¿ãƒ¼ãƒ³2: éšå±¤å‹ãƒªã‚µãƒ¼ãƒãƒãƒ¼ãƒ ï¼ˆã‚¹ãƒ¼ãƒ‘ãƒ¼ãƒã‚¤ã‚¶ãƒ¼ãƒ»ãƒ¯ãƒ¼ã‚«ãƒ¼ãƒ¢ãƒ‡ãƒ«ï¼‰

  

- æ¦‚å¿µ: ã“ã‚Œã¯æœ€ã‚‚å…ˆé€²çš„ã§å …ç‰¢ãªãƒ‘ã‚¿ãƒ¼ãƒ³ã§ã‚ã‚Šã€ç¾å®Ÿä¸–ç•Œã®ãƒªã‚µãƒ¼ãƒãƒãƒ¼ãƒ ã‚’æ¨¡å€£ã—ã¦ã„ã¾ã™ã€‚ã€Œã‚¹ãƒ¼ãƒ‘ãƒ¼ãƒã‚¤ã‚¶ãƒ¼ã€ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãŒã€å°‚é–€åŒ–ã•ã‚ŒãŸã€Œãƒ¯ãƒ¼ã‚«ãƒ¼ã€ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®ãƒãƒ¼ãƒ ã‚’çµ±æ‹¬ã—ã¾ã™ 4ã€‚ã“ã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã¯ã€ä¸¦åˆ—åŒ–å¯èƒ½ãªã‚µãƒ–ã‚¿ã‚¹ã‚¯ã«åˆ†è§£ã§ãã‚‹è¤‡é›‘ãªã‚¿ã‚¹ã‚¯ã«éå¸¸ã«å„ªã‚Œã¦ã„ã¾ã™ 4ã€‚
    
- ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ä¸Šã®å½¹å‰²:
    

- ã‚¹ãƒ¼ãƒ‘ãƒ¼ãƒã‚¤ã‚¶ãƒ¼ï¼ãƒ—ãƒ©ãƒ³ãƒŠãƒ¼: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ã‚¯ã‚¨ãƒªã‚’å—ã‘å–ã‚Šã€æ§‹é€ åŒ–ã•ã‚ŒãŸãƒªã‚µãƒ¼ãƒè¨ˆç”»ï¼ˆä¾‹ï¼šã‚µãƒ–ãƒˆãƒ”ãƒƒã‚¯ã‚’å«ã‚€ã‚¢ã‚¦ãƒˆãƒ©ã‚¤ãƒ³ï¼‰ã‚’ä½œæˆã—ã€ã‚¿ã‚¹ã‚¯ã‚’ãƒªã‚µãƒ¼ãƒãƒ£ãƒ¼ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã«å§”ä»»ã—ã€å®Œäº†ã—ãŸãƒªã‚µãƒ¼ãƒçµæœã‚’çµ±åˆã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã«ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã—ã¾ã™ 6ã€‚
    
- ãƒªã‚µãƒ¼ãƒãƒ£ãƒ¼ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ: ã‚¹ãƒ¼ãƒ‘ãƒ¼ãƒã‚¤ã‚¶ãƒ¼ã‹ã‚‰å˜ä¸€ã®ã€ç„¦ç‚¹ãŒçµã‚‰ã‚ŒãŸã‚µãƒ–ãƒˆãƒ”ãƒƒã‚¯ã‚’å—ã‘å–ã‚Šã¾ã™ã€‚å½¼ã‚‰ã¯ç‰¹å®šã®ã‚¿ã‚¹ã‚¯ã«å¯¾ã—ã¦ã€å˜ç´”åŒ–ã•ã‚ŒãŸãƒªã‚µãƒ¼ãƒãƒ»ãƒ«ãƒ¼ãƒ—ï¼ˆæ¤œç´¢â†’åé›†â†’è¦ç´„ï¼‰ã‚’å®Ÿè¡Œã—ã€ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã®åˆ†é›¢ã‚’ä¿è¨¼ã—ã¾ã™ 4ã€‚
    
- çµ±åˆï¼ãƒ©ã‚¤ã‚¿ãƒ¼ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ: å…¨ã¦ã®ã‚µãƒ–ãƒˆãƒ”ãƒƒã‚¯ã«ã¤ã„ã¦åé›†ã•ã‚ŒãŸãƒªã‚µãƒ¼ãƒçµæœã‚’å—ã‘å–ã‚Šã€ãã‚Œã‚‰ã‚’åºè«–ã€æœ¬æ–‡ã€çµè«–ã‚’æŒã¤ã€ä¸€è²«æ€§ã®ã‚ã‚‹æ§‹é€ åŒ–ã•ã‚ŒãŸå˜ä¸€ã®ãƒ¬ãƒãƒ¼ãƒˆã«ã¾ã¨ã‚ä¸Šã’ã‚‹è²¬ä»»ã‚’è² ã„ã¾ã™ 12ã€‚
    

- graph.pyã§ã®å®Ÿè£…:
    

- ã‚°ãƒ©ãƒ•ã¯æ ¹æœ¬çš„ã«å†è¨­è¨ˆã•ã‚Œã¾ã™ã€‚
    
- ãƒãƒ¼ãƒ‰: plannerã€run_parallel_researchã€synthesizerã€‚
    
- plannerãƒãƒ¼ãƒ‰ã¯ã‚µãƒ–ã‚¿ã‚¹ã‚¯ã®ãƒªã‚¹ãƒˆã‚’ç”Ÿæˆã—ã¾ã™ã€‚
    
- run_parallel_researchãƒãƒ¼ãƒ‰ã¯ã€Œãƒ‡ã‚£ã‚¹ãƒ‘ãƒƒãƒãƒ£ãƒ¼ã€ã¨ã—ã¦æ©Ÿèƒ½ã—ã¾ã™ã€‚ã‚µãƒ–ã‚¿ã‚¹ã‚¯ã®ãƒªã‚¹ãƒˆã‚’å—ã‘å–ã‚Šã€LangGraphã®Sendãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ã‚’ä½¿ç”¨ã—ã¦ã€research_agentã‚µãƒ–ã‚°ãƒ©ãƒ•ã®è¤‡æ•°ã®ä¸¦åˆ—å‘¼ã³å‡ºã—ã‚’ç”Ÿæˆã—ã¾ã™ï¼ˆå„ã‚µãƒ–ã‚¿ã‚¹ã‚¯ã«1ã¤ï¼‰ 2ã€‚
    
- synthesizerãƒãƒ¼ãƒ‰ã¯ã€ã™ã¹ã¦ã®ä¸¦åˆ—ãƒªã‚µãƒ¼ãƒãƒ–ãƒ©ãƒ³ãƒãŒå®Œäº†ã—ãŸå¾Œã«ã®ã¿å‘¼ã³å‡ºã•ã‚Œã¾ã™ã€‚å…±æœ‰ã‚¹ãƒ†ãƒ¼ãƒˆã‹ã‚‰çµæœã‚’é›†ç´„ã—ã€æœ€çµ‚ãƒ¬ãƒãƒ¼ãƒˆã‚’ç”Ÿæˆã—ã¾ã™ã€‚
    

- çŠ¶æ…‹ç®¡ç† (state.py): OverallStateã®TypedDictã‚’æ‹¡å¼µã—ã€ã“ã®è¤‡é›‘æ€§ã‚’ç®¡ç†ã—ã¾ã™ã€‚research_plan: dictã€completed_research: list[dict]ã€final_report: strãªã©ã®æ–°ã—ã„ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãŒå«ã¾ã‚Œã¾ã™ã€‚
    

  

### 2.3. è¡¨1: ãƒªã‚µãƒ¼ãƒã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®æ¯”è¼ƒ

  

ã“ã®è¡¨ã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒ‹ãƒ¼ã‚ºã«åˆã£ãŸé©åˆ‡ãªã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã‚’é¸æŠã™ã‚‹ã®ã«å½¹ç«‹ã¤ã€æ˜ç¢ºã§ä¸€è¦§æ€§ã®é«˜ã„æ¯”è¼ƒã‚’æä¾›ã—ã¾ã™ã€‚

  

|   |   |   |   |
|---|---|---|---|
|ç‰¹å¾´|ãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³ãƒ«ãƒ¼ãƒ— (Quickstart)|ç”Ÿæˆãƒ»æ‰¹è©•ãƒ«ãƒ¼ãƒ—|ã‚¹ãƒ¼ãƒ‘ãƒ¼ãƒã‚¤ã‚¶ãƒ¼ãƒ»ãƒ¯ãƒ¼ã‚«ãƒ¼ãƒ¢ãƒ‡ãƒ«|
|ã‚³ã‚¢ã‚³ãƒ³ã‚»ãƒ—ãƒˆ|å˜ä¸€ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã«ã‚ˆã‚‹åå¾©çš„ãªæ¤œç´¢ã¨è€ƒå¯Ÿ|ç”Ÿæˆã•ã‚ŒãŸãƒ‰ãƒ©ãƒ•ãƒˆã«å¯¾ã™ã‚‹è‡ªå·±ä¿®æ­£ãƒ«ãƒ¼ãƒ—|å°‚é–€ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãƒãƒ¼ãƒ ã‚’çµ±æ‹¬ã™ã‚‹éšå±¤çš„ã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³|
|è¤‡é›‘æ€§|ä½|ä¸­|é«˜|
|ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£|ä½ï¼ˆé€æ¬¡å‡¦ç†ï¼‰|ä¸­ï¼ˆå“è³ªå‘ä¸Šã«ç„¦ç‚¹ï¼‰|é«˜ï¼ˆä¸¦åˆ—å‡¦ç†ï¼‰|
|åˆ¶å¾¡ vs. è‡ªå¾‹æ€§|é«˜ã„åˆ¶å¾¡ã€ä½ã„è‡ªå¾‹æ€§|åˆ¶å¾¡ã¨è‡ªå¾‹æ€§ã®ãƒãƒ©ãƒ³ã‚¹|ã‚¹ãƒ¼ãƒ‘ãƒ¼ãƒã‚¤ã‚¶ãƒ¼ã«ã‚ˆã‚‹é«˜ãƒ¬ãƒ™ãƒ«ã®åˆ¶å¾¡ã€ãƒ¯ãƒ¼ã‚«ãƒ¼ã®è‡ªå¾‹æ€§|
|ã‚³ã‚¹ãƒˆã¸ã®å½±éŸ¿|ä½|ä¸­|é«˜ï¼ˆLLMå‘¼ã³å‡ºã—å›æ•°ãŒå¢—åŠ ã™ã‚‹ãŒã€ã‚µãƒ–ã‚¿ã‚¹ã‚¯ã«å°å‹ãƒ¢ãƒ‡ãƒ«ã‚’ä½¿ç”¨å¯èƒ½ 14ï¼‰|
|æœ€é©ãªç”¨é€”|å˜ç´”ãªäº‹å®Ÿç¢ºèªã€åŸºæœ¬çš„ãªè³ªå•å¿œç­”|é«˜å“è³ªãªè¦ç´„ã€çŸ­ã„ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ|åŒ…æ‹¬çš„ãªãƒ¬ãƒãƒ¼ãƒˆã€è¤‡é›‘ãªãƒˆãƒ”ãƒƒã‚¯ã®æ·±æ˜ã‚Šèª¿æŸ»|

ã“ã®æ¯”è¼ƒè¡¨ã¯ã€å˜ãªã‚‹æ¦‚å¿µã®ç¾…åˆ—ã§ã¯ãªãã€å®Ÿè·µçš„ãªæ„æ€æ±ºå®šãƒ„ãƒ¼ãƒ«ã¨ã—ã¦æ©Ÿèƒ½ã—ã¾ã™ã€‚ä¾‹ãˆã°ã€ã€Œç”Ÿæˆãƒ»æ‰¹è©•ãƒ«ãƒ¼ãƒ—ã€ã¯ä¸­ç¨‹åº¦ã®è¤‡é›‘æ€§ã§é«˜å“è³ªãªå‡ºåŠ›ã‚’æä¾›ã™ã‚‹ä¸€æ–¹ã€ã€Œã‚¹ãƒ¼ãƒ‘ãƒ¼ãƒã‚¤ã‚¶ãƒ¼ãƒ»ãƒ¯ãƒ¼ã‚«ãƒ¼ãƒ¢ãƒ‡ãƒ«ã€ã¯å¤§è¦æ¨¡ãªã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£ã‚’å®Ÿç¾ã—ã¾ã™ãŒã€å¤§å¹…ãªã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å¤‰æ›´ã‚’å¿…è¦ã¨ã—ã¾ã™ 5ã€‚ã‚³ã‚¹ãƒˆã®ã‚ˆã†ãªå…·ä½“çš„ãªè¦ç´ ã‚’æ˜è¨˜ã™ã‚‹ã“ã¨ã§ã€äºˆç®—ã€ç´æœŸã€ãã—ã¦æ±‚ã‚ã‚‰ã‚Œã‚‹èƒ½åŠ›ã«åŸºã¥ã„ãŸã€æƒ…å ±ã«åŸºã¥ãã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°ä¸Šã®åˆ¤æ–­ãŒå¯èƒ½ã«ãªã‚Šã¾ã™ã€‚

---

## ã‚»ã‚¯ã‚·ãƒ§ãƒ³3: ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆå°‚é–€åŒ–ã®ãŸã‚ã®é«˜åº¦ãªãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°

  

ã“ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§ã¯ã€ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®çŸ¥èƒ½ã®ã€Œã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã€ã§ã‚ã‚‹ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’è©³è¿°ã—ã¾ã™ã€‚ãƒãƒ«ãƒã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚·ã‚¹ãƒ†ãƒ ã«ãŠã„ã¦ã€ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã¯å˜ãªã‚‹æŒ‡ç¤ºæ›¸ã§ã¯ãªãã€ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆé–“ã®APIå¥‘ç´„ã¨ã—ã¦æ©Ÿèƒ½ã—ã¾ã™ã€‚ãƒ—ãƒ©ãƒ³ãƒŠãƒ¼ã®JSONå‡ºåŠ›ã¯ã€ã‚¹ãƒ¼ãƒ‘ãƒ¼ãƒã‚¤ã‚¶ãƒ¼ãŒãƒªã‚µãƒ¼ãƒãƒ£ãƒ¼ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚’å‘¼ã³å‡ºã™ãŸã‚ã®å½¢å¼çš„ãªAPIã‚³ãƒ¼ãƒ«ã§ã‚ã‚Šã€ãƒªã‚µãƒ¼ãƒãƒ£ãƒ¼ã‹ã‚‰ã®æ§‹é€ åŒ–ãƒ†ã‚­ã‚¹ãƒˆã¯ã€çµ±åˆã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã¸ã®APIãƒšã‚¤ãƒ­ãƒ¼ãƒ‰ã§ã™ã€‚ã“ã®è¦–ç‚¹ã¯ã€ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°ã‚’ã€APIè¨­è¨ˆã¨åŒç­‰ã®å³å¯†ã•ã€ã™ãªã‚ã¡ãƒãƒ¼ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°ã€æ˜ç¢ºãªã‚¹ã‚­ãƒ¼ãƒå®šç¾©ã€ãã—ã¦å …ç‰¢ãªã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ãŒæ±‚ã‚ã‚‰ã‚Œã‚‹ã€ä¸­å¿ƒçš„ãªã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°ã®è¦å¾‹ã¸ã¨æ˜‡è¯ã•ã›ã¾ã™ã€‚

  

### 3.1. ãƒ—ãƒ©ãƒ³ãƒŠãƒ¼ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ: æ§‹é€ åŒ–å‡ºåŠ›ã®å¼·åˆ¶

  

- ç›®çš„: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ã‚¯ã‚¨ãƒªã‚’æ©Ÿæ¢°å¯èª­ãªè¨ˆç”»ã«å¤‰æ›ã™ã‚‹ã“ã¨ã€‚æœ€ã‚‚é‡è¦ãªè¦ä»¶ã¯ã€LLMã«æœ‰åŠ¹ãªJSONã‚’å‡ºåŠ›ã•ã›ã‚‹ã“ã¨ã§ã™ 15ã€‚
    
- ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆæŠ€è¡“:
    

1. æ˜ç¢ºãªæŒ‡ç¤º: ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’æ˜ç¢ºãªã‚³ãƒãƒ³ãƒ‰ã§é–‹å§‹ã—ã¾ã™ã€‚ã€Œã‚ãªãŸã¯ãƒªã‚µãƒ¼ãƒãƒ—ãƒ©ãƒ³ãƒŠãƒ¼ã§ã™ã€‚ã‚ãªãŸã®ã‚¿ã‚¹ã‚¯ã¯ã€è©³ç´°ã§æ§‹é€ åŒ–ã•ã‚ŒãŸãƒªã‚µãƒ¼ãƒè¨ˆç”»ã‚’JSONå½¢å¼ã§ä½œæˆã™ã‚‹ã“ã¨ã§ã™ã€‚JSONã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆä»¥å¤–ã®ãƒ†ã‚­ã‚¹ãƒˆã¯ä¸€åˆ‡å‡ºåŠ›ã—ãªã„ã§ãã ã•ã„ã€‚ã€ 17ã€‚
    
2. ã‚¹ã‚­ãƒ¼ãƒå®šç¾©: ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆå†…ã«ã€ã‚­ãƒ¼ã€å‹ã€èª¬æ˜ã‚’å«ã‚€æ­£ç¢ºãªJSONã‚¹ã‚­ãƒ¼ãƒã‚’æä¾›ã—ã¾ã™ã€‚ä¾‹ï¼š{"research_question": "...", "sub_topics": [{"topic_name": "...", "search_queries": ["...", "..."]}]} 16ã€‚
    
3. Few-Shotï¼ˆå°‘æ•°ä¾‹ï¼‰å­¦ç¿’: ãƒ¢ãƒ‡ãƒ«ã®å¿œç­”ã‚’æ–¹å‘ä»˜ã‘ã‚‹ãŸã‚ã«ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ã‚¯ã‚¨ãƒªã¨ãã‚Œã«å¯¾å¿œã™ã‚‹æœ›ã¾ã—ã„JSONå‡ºåŠ›ã®å®Œå…¨ãªä¾‹ã‚’1ã€œ2å€‹å«ã‚ã¾ã™ 18ã€‚
    

- prompts.pyç”¨ã®å®Œå…¨ãªãƒ—ãƒ­ãƒ³ãƒ—ãƒˆä¾‹:  
    Python  
    PLANNER_PROMPT = """  
    You are an expert research planner. Your role is to transform a user's research question into a structured, actionable research plan in JSON format.  
    You must adhere strictly to the JSON schema provided. Do not output any text, explanation, or markdown formatting outside of the JSON object.  
      
    JSON Schema:  
    {{  
    Â  "research_question": "The original, high-level research question from the user.",  
    Â  "sub_topics":  
    Â  Â  }}  
    Â  ]  
    }}  
      
    Example:  
    User Question: "What are the latest trends in renewable energy, focusing on solar and wind power, and their economic impact?"  
      
    Your JSON Output:  
    {{  
    Â  "research_question": "What are the latest trends in renewable energy, focusing on solar and wind power, and their economic impact?",  
    Â  "sub_topics":  
    Â  Â  }},  
    Â  Â  {{  
    Â  Â  Â  "topic_name": "Innovations and Market Trends in Wind Power",  
    Â  Â  Â  "search_queries": [  
    Â  Â  Â  Â  "floating offshore wind turbine technology advancements",  
    Â  Â  Â  Â  "next-generation large-scale wind turbine designs",  
    Â  Â  Â  Â  "bladeless wind turbine viability and performance",  
    Â  Â  Â  Â  "wind energy storage solutions and grid integration"  
    Â  Â  Â  ]  
    Â  Â  }},  
    Â  Â  {{  
    Â  Â  Â  "topic_name": "Economic Impact of Solar and Wind Energy Adoption",  
    Â  Â  Â  "search_queries": [  
    Â  Â  Â  Â  "levelized cost of energy (LCOE) solar vs wind 2024",  
    Â  Â  Â  Â  "job creation in the renewable energy sector statistics",  
    Â  Â  Â  Â  "impact of renewable energy subsidies on national economies",  
    Â  Â  Â  Â  "investment trends in solar and wind power projects"  
    Â  Â  Â  ]  
    Â  Â  }}  
    Â  ]  
    }}  
      
    Now, generate the JSON output for the following user question.  
      
    User Question: "{user_question}"  
      
    Your JSON Output:  
    """  
      
    

  

### 3.2. ãƒªã‚µãƒ¼ãƒãƒ£ãƒ¼ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ: ç„¦ç‚¹ã®çµã‚‰ã‚ŒãŸæƒ…å ±åé›†

  

- ç›®çš„: å…¨ä½“çš„ãªãƒªã‚µãƒ¼ãƒç›®æ¨™ã«æƒ‘ã‚ã•ã‚Œã‚‹ã“ã¨ãªãã€å˜ä¸€ã®ã‚µãƒ–ãƒˆãƒ”ãƒƒã‚¯ã«ç„¦ç‚¹ã‚’å½“ã¦ãŸæ¤œç´¢ã‚’å®Ÿè¡Œã™ã‚‹ã“ã¨ã€‚
    
- ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆæŠ€è¡“:
    

- å½¹å‰²æ¼”æŠ€ï¼ˆãƒ­ãƒ¼ãƒ«ãƒ—ãƒ¬ã‚¤ãƒ³ã‚°ï¼‰: ã€Œã‚ãªãŸã¯ãƒªã‚µãƒ¼ãƒã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆã§ã™ã€‚ã‚ãªãŸã®å”¯ä¸€ã®ã‚¿ã‚¹ã‚¯ã¯ã€ä»¥ä¸‹ã®ãƒˆãƒ”ãƒƒã‚¯ã«é–¢ã™ã‚‹æƒ…å ±ã‚’æ¤œç´¢ã—ã€è¦ç´„ã™ã‚‹ã“ã¨ã§ã™ï¼š{sub_topic}ã€‚ã€ 12ã€‚
    
- ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã®ã‚¹ã‚³ãƒ¼ãƒ—è¨­å®š: ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã«ã¯ã€ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãŒã‚ˆã‚Šåºƒç¯„ãªãƒªã‚µãƒ¼ãƒå•é¡Œã‚’è€ƒæ…®ã™ã¹ãã§ã¯ãªãã€æä¾›ã•ã‚ŒãŸã‚µãƒ–ãƒˆãƒ”ãƒƒã‚¯ã«æ¤œç´¢ã¨è¦ç´„ã‚’é™å®šã™ã¹ãã§ã‚ã‚‹ã“ã¨ã‚’æ˜ç¤ºçš„ã«è¨˜è¿°ã—ã¾ã™ã€‚ã“ã‚Œã¯ã€ãƒãƒ«ãƒã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚¢ãƒ—ãƒ­ãƒ¼ãƒã®ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆåˆ†é›¢ã¨ã„ã†åˆ©ç‚¹ã‚’æ´»ç”¨ã™ã‚‹ãŸã‚ã®éµã§ã™ 4ã€‚
    

- prompts.pyç”¨ã®å®Œå…¨ãªãƒ—ãƒ­ãƒ³ãƒ—ãƒˆä¾‹:  
    Python  
    RESEARCHER_PROMPT = """  
    You are a highly skilled research assistant. Your sole task is to conduct a thorough web search on the provided topic and generate a concise, factual summary of your findings.  
      
    Your response must be a self-contained summary based ONLY on the information you find.  
    Do not consider any broader context or other topics. Focus exclusively on the topic provided below.  
    The summary should be well-organized, easy to read, and cover the key points of the topic.  
    List the URLs of the most relevant sources you used at the end of your summary.  
      
    Topic to Research: "{sub_topic}"  
      
    Begin your research and provide the summary.  
    """  
      
    

  

### 3.3. çµ±åˆã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ: ä¸€è²«ã—ãŸç‰©èªã®æ§‹ç¯‰

  

- ç›®çš„: è¤‡æ•°ã®ãƒªã‚µãƒ¼ãƒãƒ£ãƒ¼ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‹ã‚‰å¾—ã‚‰ã‚ŒãŸã€æ½œåœ¨çš„ã«ç•°ãªã‚Šã€çŸ›ç›¾ã™ã‚‹å¯èƒ½æ€§ã®ã‚ã‚‹æƒ…å ±ã‚’ã€å˜ä¸€ã®æ§‹é€ åŒ–ã•ã‚ŒãŸãƒ¬ãƒãƒ¼ãƒˆã«çµ±åˆã™ã‚‹ã“ã¨ã€‚
    
- ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆæŠ€è¡“:
    

- æ§‹é€ ã®æä¾›: ã™ã¹ã¦ã®ãƒªã‚µãƒ¼ãƒçµæœã®å…¨æ–‡ã‚’ã€æ˜ç¢ºã«åŒºåˆ‡ã‚‰ã‚ŒãŸå½¢ã§æä¾›ã—ã¾ã™ï¼ˆä¾‹ï¼šã€Œ--- ã‚µãƒ–ãƒˆãƒ”ãƒƒã‚¯1ã®ãƒªã‚µãƒ¼ãƒçµæœ ---... --- ã‚µãƒ–ãƒˆãƒ”ãƒƒã‚¯2ã®ãƒªã‚µãƒ¼ãƒçµæœ ---...ã€ï¼‰ã€‚
    
- çµ±åˆã®æŒ‡ç¤º: ä¸­æ ¸ã¨ãªã‚‹æŒ‡ç¤ºã¯ã€ã€Œæä¾›ã•ã‚ŒãŸãƒªã‚µãƒ¼ãƒçµæœã«åŸºã¥ãã€åŒ…æ‹¬çš„ãªãƒ¬ãƒãƒ¼ãƒˆã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚ãƒ¬ãƒãƒ¼ãƒˆã«ã¯åºè«–ã€å„ã‚µãƒ–ãƒˆãƒ”ãƒƒã‚¯ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã€ãã—ã¦çµè«–ã¨ãªã‚‹è¦ç´„ã‚’å«ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ãƒªã‚µãƒ¼ãƒã§è¦‹ã¤ã‹ã£ãŸçŸ›ç›¾ç‚¹ãŒã‚ã‚Œã°ã€ãã‚Œã‚’èªè­˜ã—ã€è¨€åŠã—ã¦ãã ã•ã„ã€‚ã€ã¨ã—ã¾ã™ 19ã€‚
    
- å¼•ç”¨ã®ç¾©å‹™åŒ–: ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã«ã¯ã€è¡Œã‚ã‚ŒãŸã™ã¹ã¦ã®ä¸»å¼µã«å¯¾ã—ã¦ã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³4ã§è©³è¿°ã™ã‚‹ã‚ˆã†ã«ã€æƒ…å ±æºã‚’å¼•ç”¨ã™ã‚‹ã¨ã„ã†å³æ ¼ãªæŒ‡ç¤ºã‚’å«ã‚ã¾ã™ã€‚
    

- prompts.pyç”¨ã®å®Œå…¨ãªãƒ—ãƒ­ãƒ³ãƒ—ãƒˆä¾‹:  
    Python  
    SYNTHESIZER_PROMPT = """  
    You are an expert report writer and analyst. Your task is to synthesize the provided research findings from multiple assistants into a single, high-quality, and comprehensive research report.  
      
    The report must be well-structured, with a clear introduction, a dedicated section for each sub-topic, and a final conclusion.  
    You must analyze all the provided information and create a coherent narrative. If you find conflicting information across different research findings, you must highlight these discrepancies and attempt to reconcile them or suggest reasons for the differences.  
      
    CRITICAL INSTRUCTION: You must cite your sources for every piece of information you include. At the end of each sentence or claim, append the citation marker in the format ``. The source IDs are provided within the research findings. A single sentence can have multiple citations if the information comes from multiple sources.  
      
    Here are the research findings for each sub-topic:  
    -----------------  
    {research_results}  
    -----------------  
      
    Based on the information above, write the full research report on the topic: "{research_question}"  
    """  
      
    

---

## ã‚»ã‚¯ã‚·ãƒ§ãƒ³4: å …ç‰¢ãªå¼•ç”¨ã¨ã‚°ãƒ©ã‚¦ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ã®å®Ÿè£…

  

ä¿¡é ¼æ€§ã®é«˜ã„ãƒªã‚µãƒ¼ãƒãƒ„ãƒ¼ãƒ«ã«ã¨ã£ã¦ã€å¼•ç”¨æ©Ÿèƒ½ã¯ä¸å¯æ¬ ã§ã™ã€‚ã“ã“ã§ã¯ã€å¼•ç”¨ã‚’ã‚·ã‚¹ãƒ†ãƒ ã«çµ±åˆã™ã‚‹ãŸã‚ã®æ˜ç¢ºã§æ®µéšçš„ãªã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã‚’æç¤ºã—ã¾ã™ 2ã€‚

  

### 4.1. å¼•ç”¨ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ 

  

1. å–ã‚Šè¾¼ã¿ã¨ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ä½œæˆ: web_searchã‚¹ãƒ†ãƒƒãƒ—ã§ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å–å¾—ã™ã‚‹éš›ã«ã€ãã®å†…å®¹ã¨ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ï¼ˆURLã€ã‚¿ã‚¤ãƒˆãƒ«ï¼‰ã‚’ä¿å­˜ã—ã€ä¸€æ„ã®æ•´æ•°IDã‚’å‰²ã‚Šå½“ã¦ã¾ã™ã€‚
    
2. ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ: å–å¾—ã—ãŸãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’æœ€çµ‚çš„ãªçµ±åˆã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã«æ¸¡ã™å‰ã«ã€ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã•ã‚ŒãŸã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆæ–‡å­—åˆ—ã‚’ä½œæˆã—ã¾ã™ã€‚å„ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®å†…å®¹ã®å‰ã«ã€Source ID: \nContent:...ã®ã‚ˆã†ã«ä¸€æ„ã®IDã‚’ä»˜åŠ ã—ã¾ã™ 22ã€‚
    
3. ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã«ã‚ˆã‚‹æŒ‡ç¤º: synthesizerã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã«ã¯ã€ã€Œè¡Œã†ã™ã¹ã¦ã®ä¸»å¼µã«ã¤ã„ã¦ã€æ–‡æœ«ã«å¯¾å¿œã™ã‚‹Source ID: [id]ã‚’ä»˜åŠ ã—ã¦æƒ…å ±æºã‚’å¼•ç”¨ã—ãªã‘ã‚Œã°ãªã‚‰ãªã„ã€ã¨ã„ã†ã€æ˜ç¢ºã‹ã¤äº¤æ¸‰ã®ä½™åœ°ã®ãªã„æŒ‡ç¤ºã‚’å«ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ 24ã€‚
    
4. å‡ºåŠ›ã®å¼·åˆ¶: LLMã®ãƒ„ãƒ¼ãƒ«å‘¼ã³å‡ºã—æ©Ÿèƒ½ã¾ãŸã¯æ§‹é€ åŒ–å‡ºåŠ›æ©Ÿèƒ½ã‚’åˆ©ç”¨ã—ã¾ã™ã€‚CitedAnswer(answer: str, citations: List[int])ã®ã‚ˆã†ãªPydanticã‚¹ã‚­ãƒ¼ãƒã‚’å®šç¾©ã—ã€.with_structured_output(CitedAnswer)ã‚’ä½¿ç”¨ã—ã¦ãƒ¢ãƒ‡ãƒ«å‘¼ã³å‡ºã—ã«ãƒã‚¤ãƒ³ãƒ‰ã—ã¾ã™ 23ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€ãƒ¢ãƒ‡ãƒ«ã¯ãƒ†ã‚­ã‚¹ãƒˆã‚’ç”Ÿæˆã™ã‚‹ã ã‘ã§ãªãã€ä½¿ç”¨ã—ãŸã‚½ãƒ¼ã‚¹IDã®ã‚¯ãƒªãƒ¼ãƒ³ãªãƒªã‚¹ãƒˆã‚‚ç”Ÿæˆã›ã–ã‚‹ã‚’å¾—ãªããªã‚Šã¾ã™ã€‚
    
5. å¾Œå‡¦ç†: æœ€çµ‚çš„ãªã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¯ã€ã“ã®citationsãƒªã‚¹ãƒˆã‚’ä½¿ç”¨ã—ã¦ã€æœ€åˆã®ã‚¹ãƒ†ãƒƒãƒ—ã§ä¿å­˜ã•ã‚ŒãŸå…ƒã®ã‚½ãƒ¼ã‚¹ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«ãƒªãƒ³ã‚¯ãƒãƒƒã‚¯ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚
    

  

### 4.2. graph.pyã¨utils.pyã«ãŠã‘ã‚‹ã‚³ãƒ¼ãƒ‰å®Ÿè£…

  

ã“ã“ã§ã¯ã€å…·ä½“çš„ãªPythonã‚³ãƒ¼ãƒ‰ã‚¹ãƒ‹ãƒšãƒƒãƒˆã‚’æä¾›ã—ã¾ã™ã€‚

- utils.py: ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆæ–‡å­—åˆ—ã‚’ä½œæˆã™ã‚‹ãŸã‚ã®æ–°ã—ã„é–¢æ•°format_docs_with_idã‚’å®šç¾©ã—ã¾ã™ã€‚  
    Python  
    from typing import List  
    # langchain_core.documents.Document ã‚’æƒ³å®š  
    from langchain_core.documents import Document  
      
    def format_docs_with_id(docs: List) -> str:  
    Â  Â  """  
    Â  Â  ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ãƒªã‚¹ãƒˆã‚’ã€å„ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«ä¸€æ„ã®IDã‚’ä»˜ã‘ã¦  
    Â  Â  ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã•ã‚ŒãŸå˜ä¸€ã®æ–‡å­—åˆ—ã«å¤‰æ›ã—ã¾ã™ã€‚  
    Â  Â  """  
    Â  Â  formatted_strings =  
    Â  Â  for i, doc in enumerate(docs):  
    Â  Â  Â  Â  # doc.metadataã«'source'ã‚„'title'ãŒå«ã¾ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’æƒ³å®š  
    Â  Â  Â  Â  source_info = doc.metadata.get('source', 'Unknown Source')  
    Â  Â  Â  Â  formatted_string = f"Source ID: [{i}]\nURL: {source_info}\nContent: {doc.page_content}"  
    Â  Â  Â  Â  formatted_strings.append(formatted_string)  
    Â  Â  return "\n\n---\n\n".join(formatted_strings)  
      
    
- graph.pyå†…ã®synthesizerãƒãƒ¼ãƒ‰: Pydanticã‚¹ã‚­ãƒ¼ãƒå®šç¾©ã¨.with_structured_output()ãƒ¢ãƒ‡ãƒ«å‘¼ã³å‡ºã—ã‚’ç¤ºã™ã‚ˆã†ã«synthesizerãƒãƒ¼ãƒ‰é–¢æ•°ã‚’å¤‰æ›´ã—ã¾ã™ã€‚  
    Python  
    from pydantic import BaseModel, Field  
    from typing import List  
      
    # Pydanticãƒ¢ãƒ‡ãƒ«ã‚’å®šç¾©ã—ã¦ã€å¼•ç”¨ä»˜ãã®å›ç­”ã‚’æ§‹é€ åŒ–ã™ã‚‹  
    class CitedAnswer(BaseModel):  
    Â  Â  """æŒ‡å®šã•ã‚ŒãŸæƒ…å ±æºã®ã¿ã«åŸºã¥ã„ã¦ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®è³ªå•ã«å›ç­”ã—ã€ä½¿ç”¨ã—ãŸæƒ…å ±æºã‚’å¼•ç”¨ã™ã‚‹ã€‚"""  
    Â  Â  answer: str = Field(  
    Â  Â  Â  ...,  
    Â  Â  Â  Â  description="ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®è³ªå•ã«å¯¾ã™ã‚‹å›ç­”ã€‚æä¾›ã•ã‚ŒãŸæƒ…å ±æºã®ã¿ã«åŸºã¥ãã€‚",  
    Â  Â  )  
    Â  Â  citations: List[int] = Field(  
    Â  Â  Â  ...,  
    Â  Â  Â  Â  description="å›ç­”ã‚’æ­£å½“åŒ–ã™ã‚‹ç‰¹å®šã®æƒ…å ±æºã®æ•´æ•°IDã€‚",  
    Â  Â  )  
      
    #... synthesizer ãƒãƒ¼ãƒ‰é–¢æ•°å†…...  
    # llm ã¯ ChatGoogleGenerativeAI ãªã©ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹  
    structured_llm = llm.with_structured_output(CitedAnswer)  
      
    # research_results ã¯ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã•ã‚ŒãŸãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ–‡å­—åˆ—  
    # research_question ã¯ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å…ƒã®è³ªå•  
    prompt = SYNTHESIZER_PROMPT.format(  
    Â  Â  research_results=research_results,  
    Â  Â  research_question=research_question  
    )  
      
    response = structured_llm.invoke(prompt)  
      
    # response.answer ã¨ response.citations ã‚’å¾Œç¶šã®å‡¦ç†ã§ä½¿ç”¨ã™ã‚‹  
    final_report_text = response.answer  
    # å¼•ç”¨æƒ…å ±ã‚’æœ€çµ‚å‡ºåŠ›ã«å«ã‚ã‚‹  
    #...  
      
    

---

## ã‚»ã‚¯ã‚·ãƒ§ãƒ³5: åˆ¶å¾¡ã¨çŸ¥è­˜ã®æ°¸ç¶šæ€§ã®å¼·åŒ–

  

è‡ªå¾‹çš„ãªã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã¯å¼·åŠ›ã§ã™ãŒã€ãã®èƒ½åŠ›ã‚’æœ€å¤§é™ã«å¼•ãå‡ºã—ã€ä¿¡é ¼æ€§ã‚’ç¢ºä¿ã™ã‚‹ãŸã‚ã«ã¯ã€äººé–“ã«ã‚ˆã‚‹ç›£ç£ã¨ã€å¾—ã‚‰ã‚ŒãŸçŸ¥è­˜ã‚’å°†æ¥ã«ã‚ãŸã£ã¦æ´»ç”¨ã™ã‚‹ãŸã‚ã®ãƒ¡ã‚«ãƒ‹ã‚ºãƒ ãŒå¿…è¦ã§ã™ã€‚

  

### 5.1. å“è³ªä¿è¨¼ã®ãŸã‚ã®ãƒ’ãƒ¥ãƒ¼ãƒãƒ³ã‚¤ãƒ³ã‚¶ãƒ«ãƒ¼ãƒ—ï¼ˆHITLï¼‰

  

- æ¦‚å¿µ: ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã¯è‡ªå¾‹çš„ã«å‹•ä½œã§ãã¾ã™ãŒã€é‡è¦ãªã‚¿ã‚¹ã‚¯ã¯äººé–“ã®ç›£ç£ã‹ã‚‰æ©æµã‚’å—ã‘ã¾ã™ã€‚LangGraphã«çµ„ã¿è¾¼ã¾ã‚ŒãŸãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆã‚·ã‚¹ãƒ†ãƒ ã¯ã€ã‚°ãƒ©ãƒ•ã®å®Ÿè¡Œã‚’ä¸€æ™‚åœæ­¢ã—ã€å¤–éƒ¨ã‹ã‚‰ã®å…¥åŠ›ã‚’å¾…æ©Ÿã™ã‚‹ã“ã¨ã‚’å¯èƒ½ã«ã—ã¾ã™ 21ã€‚
    
- å®Ÿè£…: 2ã¤ã®é‡è¦ãªãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆã‚’è¿½åŠ ã™ã‚‹æ–¹æ³•ã‚’ç¤ºã—ã¾ã™ã€‚
    

1. è¨ˆç”»ã®æ‰¿èª: plannerãƒãƒ¼ãƒ‰ã®å¾Œã«ã€human_approvalãƒãƒ¼ãƒ‰ã‚’æŒ¿å…¥ã—ã¾ã™ã€‚ã“ã®ãƒãƒ¼ãƒ‰ã¯LangGraphã®interrupt()é–¢æ•°ã‚’ä½¿ç”¨ã—ã¦å®Ÿè¡Œã‚’ä¸€æ™‚åœæ­¢ã—ã€ç”Ÿæˆã•ã‚ŒãŸãƒªã‚µãƒ¼ãƒè¨ˆç”»ã‚’APIçµŒç”±ã§ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«æç¤ºã—ã¾ã™ã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ãƒªã‚µãƒ¼ãƒãŒé–‹å§‹ã•ã‚Œã‚‹å‰ã«è¨ˆç”»ã‚’æ‰¿èªã¾ãŸã¯ç·¨é›†ã§ãã¾ã™ 21ã€‚
    
2. æœ€çµ‚ãƒ‰ãƒ©ãƒ•ãƒˆã®ãƒ¬ãƒ“ãƒ¥ãƒ¼: final_reportãŒENDãƒãƒ¼ãƒ‰ã«é€ã‚‰ã‚Œã‚‹å‰ã«ã€åˆ¥ã®human_approvalãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆã‚’æŒ¿å…¥ã—ã€çµ±åˆã•ã‚ŒãŸãƒ¬ãƒãƒ¼ãƒˆã®æœ€çµ‚çš„ãªäººé–“ã«ã‚ˆã‚‹ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’å¯èƒ½ã«ã—ã¾ã™ã€‚
    

- interruptã‚’å®šç¾©ã™ã‚‹æ–¹æ³•ã¨ã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚’å—ã‘ã¦ã‚°ãƒ©ãƒ•ã®å®Ÿè¡Œã‚’å†é–‹ã™ã‚‹æ–¹æ³•ã‚’ç¤ºã™ã‚³ãƒ¼ãƒ‰ä¾‹ãŒæä¾›ã•ã‚Œã¾ã™ã€‚
    

  

### 5.2. é«˜åº¦ãªæŠ€è¡“ï¼šå‹•çš„ãªãƒŠãƒ¬ãƒƒã‚¸ã‚°ãƒ©ãƒ•ã®æ§‹ç¯‰

  

- æ¦‚å¿µ: ã“ã‚Œã¯ã€ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚’å˜ä¸€ã‚¿ã‚¹ã‚¯ã®ãƒ„ãƒ¼ãƒ«ã‹ã‚‰ã€ç¶™ç¶šçš„ãªçŸ¥è­˜æ§‹ç¯‰ã‚·ã‚¹ãƒ†ãƒ ã¸ã¨å¤‰é©ã™ã‚‹ã€å…ˆé€²çš„ãªæ©Ÿèƒ½å¼·åŒ–ã§ã™ã€‚æƒ…å ±åé›†å¾Œã€æ§‹é€ åŒ–ãƒ‡ãƒ¼ã‚¿ï¼ˆã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã¨ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚·ãƒƒãƒ—ï¼‰ã‚’æŠ½å‡ºã—ã€ãƒŠãƒ¬ãƒƒã‚¸ã‚°ãƒ©ãƒ•ï¼ˆKGï¼‰ã‚’æ§‹ç¯‰ã™ã‚‹ãƒãƒ¼ãƒ‰ã‚’è¿½åŠ ã§ãã¾ã™ 26ã€‚
    
- ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼:
    

1. ä¸¦åˆ—ãƒªã‚µãƒ¼ãƒãƒ•ã‚§ãƒ¼ã‚ºã®å¾Œã€çµ±åˆã®å‰ã«build_knowledge_graphãƒãƒ¼ãƒ‰ã‚’è¿½åŠ ã—ã¾ã™ã€‚
    
2. ã“ã®ãƒãƒ¼ãƒ‰ã¯ã€ç‰¹å®šã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’æŒã¤LLMã‚’ä½¿ç”¨ã—ã¦ã€åé›†ã•ã‚ŒãŸãƒ†ã‚­ã‚¹ãƒˆã‚’è§£æã—ã€ä¸‰ã¤çµ„ï¼ˆä¾‹ï¼š(ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£1, é–¢ä¿‚, ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£2)ï¼‰ã‚’æŠ½å‡ºã—ã¾ã™ 27ã€‚
    
3. ã“ã‚Œã‚‰ã®ä¸‰ã¤çµ„ã¯ã€Neo4jã®ã‚ˆã†ãªã‚°ãƒ©ãƒ•ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«è¿½åŠ ã•ã‚Œã¾ã™ 26ã€‚
    

- åˆ©ç‚¹ã¨æ„ç¾©:
    

- çŸ¥è­˜ã®æ°¸ç¶šæ€§: ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®ç™ºè¦‹ã¯ã‚»ãƒƒã‚·ãƒ§ãƒ³çµ‚äº†å¾Œã‚‚å¤±ã‚ã‚Œã¾ã›ã‚“ã€‚KGã¯é•·æœŸçš„ãªè¨˜æ†¶ã¨ã—ã¦æ©Ÿèƒ½ã—ã¾ã™ 29ã€‚
    
- æ¤œç´¢èƒ½åŠ›ã®å‘ä¸Š: å°†æ¥ã®ãƒªã‚µãƒ¼ãƒã‚¿ã‚¹ã‚¯ã«ãŠã„ã¦ã€ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã¯ã‚¦ã‚§ãƒ–ã‚’æ¤œç´¢ã™ã‚‹å‰ã«KGã«æ—¢å­˜ã®çŸ¥è­˜ã‚’å•ã„åˆã‚ã›ã‚‹ã“ã¨ãŒã§ãã€ã‚ˆã‚Šè¿…é€Ÿã§æ­£ç¢ºãªçµæœã«ã¤ãªãŒã‚Šã¾ã™ï¼ˆGraphRAGï¼‰ 31ã€‚
    

- ã“ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§ã¯ã€æ¦‚å¿µçš„ãªæ¦‚è¦ã¨ã€LLMGraphTransformerã®ã‚ˆã†ãªå®Ÿè£…ãƒªã‚½ãƒ¼ã‚¹ã¸ã®ãƒã‚¤ãƒ³ã‚¿ã‚’æä¾›ã—ã¾ã™ 27ã€‚
    

---

## ã‚»ã‚¯ã‚·ãƒ§ãƒ³6: å®Ÿè·µçš„ãªå®Ÿè£…ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—

  

ã“ã®æœ€çµ‚ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§ã¯ã€ã™ã¹ã¦ã®æ¦‚å¿µã‚’çµ±åˆã—ã€gemini-fullstack-langgraph-quickstartãƒªãƒã‚¸ãƒˆãƒªã‚’ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã™ã‚‹ãŸã‚ã®æ˜ç¢ºã§å®Ÿè¡Œå¯èƒ½ãªè¨ˆç”»ã‚’æä¾›ã—ã¾ã™ã€‚

  

### 6.1. prompts.pyã®ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°

  

Plannerã€Researcherã€Synthesizerã€Criticã®å„å½¹å‰²ã«å¯¾å¿œã™ã‚‹ã€å°‚é–€çš„ã«ä½œæˆã•ã‚ŒãŸæ˜ç¢ºãªãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’å«ã‚€ã€prompts.pyãƒ•ã‚¡ã‚¤ãƒ«ã®å®Œå…¨ãªæœ€çµ‚ç‰ˆã‚’æä¾›ã—ã¾ã™ã€‚

  

Python

  
  

# backend/src/agent/prompts.py (æœ€çµ‚ç‰ˆ)  
  
PLANNER_PROMPT = """  
You are an expert research planner. Your role is to transform a user's research question into a structured, actionable research plan in JSON format.  
You must adhere strictly to the JSON schema provided. Do not output any text, explanation, or markdown formatting outside of the JSON object.  
  
JSON Schema:  
{{  
Â  "research_question": "The original, high-level research question from the user.",  
Â  "sub_topics":  
Â  Â  }}  
Â  ]  
}}  
  
Example:  
User Question: "What are the latest trends in renewable energy, focusing on solar and wind power, and their economic impact?"  
  
Your JSON Output:  
{{  
Â  "research_question": "What are the latest trends in renewable energy, focusing on solar and wind power, and their economic impact?",  
Â  "sub_topics":}},  
Â  Â  {{"topic_name": "Innovations and Market Trends in Wind Power", "search_queries": ["floating offshore wind turbine technology advancements", "next-generation large-scale wind turbine designs"]}},  
Â  Â  {{"topic_name": "Economic Impact of Solar and Wind Energy Adoption", "search_queries": ["levelized cost of energy (LCOE) solar vs wind 2024", "job creation in the renewable energy sector statistics"]}}  
Â  ]  
}}  
  
Now, generate the JSON output for the following user question.  
  
User Question: "{user_question}"  
  
Your JSON Output:  
"""  
  
RESEARCHER_PROMPT = """  
You are a highly skilled research assistant. Your sole task is to conduct a thorough web search on the provided topic and generate a concise, factual summary of your findings.  
Your response must be a self-contained summary based ONLY on the information you find.  
Do not consider any broader context or other topics. Focus exclusively on the topic provided below.  
The summary should be well-organized, easy to read, and cover the key points of the topic.  
At the end of your summary, provide a list of the URLs of the most relevant sources you used, formatted as:  
SOURCES:  
-  
-  
  
Topic to Research: "{sub_topic}"  
  
Begin your research and provide the summary.  
"""  
  
SYNTHESIZER_PROMPT = """  
You are an expert report writer and analyst. Your task is to synthesize the provided research findings from multiple assistants into a single, high-quality, and comprehensive research report.  
The report must be well-structured, with a clear introduction, a dedicated section for each sub-topic, and a final conclusion.  
You must analyze all the provided information and create a coherent narrative. If you find conflicting information across different research findings, you must highlight these discrepancies and attempt to reconcile them or suggest reasons for the differences.  
  
CRITICAL INSTRUCTION: You must cite your sources for every piece of information you include. At the end of each sentence or claim, append the citation marker in the format ``. The source IDs are provided within the research findings. A single sentence can have multiple citations if the information comes from multiple sources.  
  
Here are the research findings for each sub-topic:  
-----------------  
{research_results}  
-----------------  
  
Based on the information above, write the full research report on the topic: "{research_question}"  
"""  
  
CRITIQUE_PROMPT = """  
You are a meticulous and critical editor. Your task is to review the provided research report draft and evaluate it based on the following criteria:  
1.Â  **Accuracy**: Are the claims factually correct and supported by the provided research?  
2.Â  **Completeness**: Does the report adequately address all aspects of the original research question? Are there any obvious gaps?  
3.Â  **Clarity**: Is the report well-written, easy to understand, and logically structured?  
4.Â  **Citations**: Are all claims properly cited according to the required format ``?  
  
Provide your feedback in a structured format. First, give an overall assessment. Then, provide specific, actionable suggestions for improvement.  
If the report is excellent and requires no changes, state "The report is satisfactory."  
  
Report Draft to Review:  
-----------------  
{draft_report}  
-----------------  
  
Begin your critique.  
"""  
  

  

### 6.2. graph.pyã®ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°

  

StateGraphã‚’å†æ§‹ç¯‰ã™ã‚‹ãŸã‚ã®æ®µéšçš„ãªã‚¬ã‚¤ãƒ‰ã‚’æä¾›ã—ã¾ã™ã€‚ã“ã‚Œã«ã¯ã€æ–°ã—ã„ãƒãƒ¼ãƒ‰ï¼ˆplanner, run_parallel_research, synthesizer, critique_report, human_approvalï¼‰ã¨ã€æ‰¹è©•ãƒ«ãƒ¼ãƒ—ã‚„ä¸¦åˆ—ãƒ‡ã‚£ã‚¹ãƒ‘ãƒƒãƒãƒ¡ã‚«ãƒ‹ã‚ºãƒ ã‚’å«ã‚€æ–°ã—ã„ã‚¨ãƒƒã‚¸ã®æœ€çµ‚çš„ãªã‚³ãƒ¼ãƒ‰ãŒå«ã¾ã‚Œã¾ã™ã€‚

  

### 6.3. çŠ¶æ…‹å®šç¾©ã®å¤‰æ›´

  

æ‹¡å¼µã•ã‚ŒãŸOverallStateã®TypedDictã®æœ€çµ‚ç‰ˆã‚’æä¾›ã—ã€å„æ–°ã—ã„ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®ç›®çš„ã‚’èª¬æ˜ã—ã¾ã™ã€‚

  

Python

  
  

# backend/src/agent/state.py (æœ€çµ‚ç‰ˆã®ä¾‹)  
from typing import TypedDict, Annotated, List, Dict, Any  
from langgraph.graph.message import add_messages  
import operator  
  
class SubTopicResearch(TypedDict):  
Â  Â  topic_name: str  
Â  Â  summary: str  
Â  Â  sources: List[str]  
  
class OverallState(TypedDict):  
Â  Â  messages: Annotated[list, add_messages]  
Â  Â  research_question: str  
Â  Â  research_plan: Dict[str, Any]  
Â  Â  # ä¸¦åˆ—ãƒªã‚µãƒ¼ãƒã®çµæœã‚’æ ¼ç´  
Â  Â  research_results: Annotated, operator.add]  
Â  Â  # çµ±åˆã•ã‚ŒãŸãƒ¬ãƒãƒ¼ãƒˆã®ãƒ‰ãƒ©ãƒ•ãƒˆ  
Â  Â  draft_report: str  
Â  Â  # æ‰¹è©•å®¶ã‹ã‚‰ã®ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯  
Â  Â  critique: str  
Â  Â  # æœ€çµ‚ãƒ¬ãƒãƒ¼ãƒˆ  
Â  Â  final_report: str  
Â  Â  # ãƒªãƒ“ã‚¸ãƒ§ãƒ³å›æ•°ã®è¿½è·¡  
Â  Â  revisions_count: int  
  

  

### 6.4. æœ€çµ‚ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å›³

  

ã‚¹ãƒ¼ãƒ‘ãƒ¼ãƒã‚¤ã‚¶ãƒ¼ãƒ»ãƒ¯ãƒ¼ã‚«ãƒ¼ã‚°ãƒ©ãƒ•å…¨ä½“ã‚’è¦–è¦šåŒ–ã™ã‚‹Mermaidãƒ€ã‚¤ã‚¢ã‚°ãƒ©ãƒ ã‚’æä¾›ã—ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€ä¸¦åˆ—ãƒ–ãƒ©ãƒ³ãƒã‚„ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ãƒ«ãƒ¼ãƒ—ã‚’å«ã‚€ã€ã™ã¹ã¦ã®ãƒãƒ¼ãƒ‰é–“ã®åˆ¶å¾¡ã¨ãƒ‡ãƒ¼ã‚¿ã®æµã‚ŒãŒç¤ºã•ã‚Œã€å®Œæˆã—ãŸã‚·ã‚¹ãƒ†ãƒ ã®æ˜ç¢ºãªãƒ¡ãƒ³ã‚¿ãƒ«ãƒ¢ãƒ‡ãƒ«ãŒæä¾›ã•ã‚Œã¾ã™ 34ã€‚

  

ã‚³ãƒ¼ãƒ‰ ã‚¹ãƒ‹ãƒšãƒƒãƒˆ

  
  

graph TD  
Â  Â  A --> B(planner);  
Â  Â  B --> C{plan_approval_hitl};  
Â  Â  C -- Approved --> D(run_parallel_research);  
Â  Â  C -- Edited --> B;  
Â  Â  D -- for each sub_topic --> E[research_agent_subgraph];  
Â  Â  E --> F(aggregate_results);  
Â  Â  F --> G(synthesizer);  
Â  Â  G --> H(critique_report);  
Â  Â  H --> I{should_revise};  
Â  Â  I -- Revise --> G;  
Â  Â  I -- Satisfactory --> J{final_review_hitl};  
Â  Â  J -- Approved --> K;  
Â  Â  J -- Edited --> G;  
  

#### å¼•ç”¨æ–‡çŒ®

1. LangGraph 101: Let's Build A Deep Research Agent | Towards Data Science, 9æœˆ 14, 2025ã«ã‚¢ã‚¯ã‚»ã‚¹ã€ [https://towardsdatascience.com/langgraph-101-lets-build-a-deep-research-agent/](https://towardsdatascience.com/langgraph-101-lets-build-a-deep-research-agent/)
    
2. Automating Web Research - LangChain Blog, 9æœˆ 14, 2025ã«ã‚¢ã‚¯ã‚»ã‚¹ã€ [https://blog.langchain.com/automating-web-research/](https://blog.langchain.com/automating-web-research/)
    
3. Open Deep Research - LangChain Blog, 9æœˆ 14, 2025ã«ã‚¢ã‚¯ã‚»ã‚¹ã€ [https://blog.langchain.com/open-deep-research/](https://blog.langchain.com/open-deep-research/)
    
4. LangGraph Deep Research: A Tale of Two Architectures - DataHub, 9æœˆ 14, 2025ã«ã‚¢ã‚¯ã‚»ã‚¹ã€ [https://datahub.io/@donbr/langgraph-unleashed/langgraph_deep_research](https://datahub.io/@donbr/langgraph-unleashed/langgraph_deep_research)
    
5. Building a Deep Research Agent with LangGraph - Sid Bharath, 9æœˆ 14, 2025ã«ã‚¢ã‚¯ã‚»ã‚¹ã€ [https://www.siddharthbharath.com/build-deep-research-agent-langgraph/](https://www.siddharthbharath.com/build-deep-research-agent-langgraph/)
    
6. LangGraph â€” Build Self-Improving Agents | by Shuvrajyoti Debroy ..., 9æœˆ 14, 2025ã«ã‚¢ã‚¯ã‚»ã‚¹ã€ [https://medium.com/@shuv.sdr/langgraph-build-self-improving-agents-8ffefb52d146](https://medium.com/@shuv.sdr/langgraph-build-self-improving-agents-8ffefb52d146)
    
7. Reflection Agents - LangChain Blog, 9æœˆ 14, 2025ã«ã‚¢ã‚¯ã‚»ã‚¹ã€ [https://blog.langchain.com/reflection-agents/](https://blog.langchain.com/reflection-agents/)
    
8. A Deep Dive into LangGraph for Self-Correcting AI Agents | ActiveWizards, 9æœˆ 14, 2025ã«ã‚¢ã‚¯ã‚»ã‚¹ã€ [https://activewizards.com/blog/a-deep-dive-into-langgraph-for-self-correcting-ai-agents](https://activewizards.com/blog/a-deep-dive-into-langgraph-for-self-correcting-ai-agents)
    
9. Agentic AI With LangGraph: Building a Writerâ€“Critic Loop (AAIDC-Week5-Lesson-2c), 9æœˆ 14, 2025ã«ã‚¢ã‚¯ã‚»ã‚¹ã€ [https://app.readytensor.ai/publications/agentic-ai-with-langgraph-building-a-writercritic-loop-aaidc-week5-lesson-2c-zvrcImvr8AF4](https://app.readytensor.ai/publications/agentic-ai-with-langgraph-building-a-writercritic-loop-aaidc-week5-lesson-2c-zvrcImvr8AF4)
    
10. LangGraph Multi-Agent Systems - Overview, 9æœˆ 14, 2025ã«ã‚¢ã‚¯ã‚»ã‚¹ã€ [https://langchain-ai.github.io/langgraph/concepts/multi_agent/](https://langchain-ai.github.io/langgraph/concepts/multi_agent/)
    
11. Building Multi-Agent Systems with LangGraph | by Clearwater Analytics Engineering, 9æœˆ 14, 2025ã«ã‚¢ã‚¯ã‚»ã‚¹ã€ [https://medium.com/cwan-engineering/building-multi-agent-systems-with-langgraph-04f90f312b8e](https://medium.com/cwan-engineering/building-multi-agent-systems-with-langgraph-04f90f312b8e)
    
12. Learn to Generate Reports with LangGraph and AI | datos.gob.es, 9æœˆ 14, 2025ã«ã‚¢ã‚¯ã‚»ã‚¹ã€ [https://datos.gob.es/en/conocimiento/learn-generate-reports-langgraph-and-ai](https://datos.gob.es/en/conocimiento/learn-generate-reports-langgraph-and-ai)
    
13. langchain-ai/open_deep_research - GitHub, 9æœˆ 14, 2025ã«ã‚¢ã‚¯ã‚»ã‚¹ã€ [https://github.com/langchain-ai/open_deep_research](https://github.com/langchain-ai/open_deep_research)
    
14. Prompt Engineering for AI Agents - PromptHub, 9æœˆ 14, 2025ã«ã‚¢ã‚¯ã‚»ã‚¹ã€ [https://www.prompthub.us/blog/prompt-engineering-for-ai-agents](https://www.prompthub.us/blog/prompt-engineering-for-ai-agents)
    
15. JSON Prompt: The Ultimate Guide to Perfect AI Outputs - MPG ONE, 9æœˆ 14, 2025ã«ã‚¢ã‚¯ã‚»ã‚¹ã€ [https://mpgone.com/json-prompt-guide/](https://mpgone.com/json-prompt-guide/)
    
16. How to Output JSON? Function calling or prompting? - API - OpenAI Developer Community, 9æœˆ 14, 2025ã«ã‚¢ã‚¯ã‚»ã‚¹ã€ [https://community.openai.com/t/how-to-output-json-function-calling-or-prompting/409700](https://community.openai.com/t/how-to-output-json-function-calling-or-prompting/409700)
    
17. Prompt engineering techniques - Azure OpenAI | Microsoft Learn, 9æœˆ 14, 2025ã«ã‚¢ã‚¯ã‚»ã‚¹ã€ [https://learn.microsoft.com/en-us/azure/ai-foundry/openai/concepts/prompt-engineering](https://learn.microsoft.com/en-us/azure/ai-foundry/openai/concepts/prompt-engineering)
    
18. How Multi-Agent LLMs Are Revolutionizing Prompt Engineering by Writing Their Own Prompts | by Gary A. Fowler | Aug, 2025, 9æœˆ 14, 2025ã«ã‚¢ã‚¯ã‚»ã‚¹ã€ [https://gafowler.medium.com/how-multi-agent-llms-are-revolutionizing-prompt-engineering-by-writing-their-own-prompts-c1a6f9410f8d](https://gafowler.medium.com/how-multi-agent-llms-are-revolutionizing-prompt-engineering-by-writing-their-own-prompts-c1a6f9410f8d)
    
19. Advanced Prompt Engineering for AI Agents: Building Intelligent Workflows - PromptAgent, 9æœˆ 14, 2025ã«ã‚¢ã‚¯ã‚»ã‚¹ã€ [https://promptagent.uk/advanced-prompt-engineering-for-ai-agents-building-intelligent-workflows/](https://promptagent.uk/advanced-prompt-engineering-for-ai-agents-building-intelligent-workflows/)
    
20. LangGraph 201: Adding Human Oversight to Your Deep Research Agent, 9æœˆ 14, 2025ã«ã‚¢ã‚¯ã‚»ã‚¹ã€ [https://towardsdatascience.com/langgraph-201-adding-human-oversight-to-your-deep-research-agent/](https://towardsdatascience.com/langgraph-201-adding-human-oversight-to-your-deep-research-agent/)
    
21. How to return citations - LangChain.js, 9æœˆ 14, 2025ã«ã‚¢ã‚¯ã‚»ã‚¹ã€ [https://js.langchain.com/docs/how_to/qa_citations/](https://js.langchain.com/docs/how_to/qa_citations/)
    
22. How to get a RAG application to add citations | ğŸ¦œï¸ LangChain, 9æœˆ 14, 2025ã«ã‚¢ã‚¯ã‚»ã‚¹ã€ [https://python.langchain.com/docs/how_to/qa_citations/](https://python.langchain.com/docs/how_to/qa_citations/)
    
23. How to add 'source citation' for Langchain's Question-Answering based on PDFs? - Reddit, 9æœˆ 14, 2025ã«ã‚¢ã‚¯ã‚»ã‚¹ã€ [https://www.reddit.com/r/LangChain/comments/157833e/how_to_add_source_citation_for_langchains/](https://www.reddit.com/r/LangChain/comments/157833e/how_to_add_source_citation_for_langchains/)
    
24. LangGraph - LangChain, 9æœˆ 14, 2025ã«ã‚¢ã‚¯ã‚»ã‚¹ã€ [https://www.langchain.com/langgraph](https://www.langchain.com/langgraph)
    
25. How to construct knowledge graphs - LangChain.js, 9æœˆ 14, 2025ã«ã‚¢ã‚¯ã‚»ã‚¹ã€ [https://js.langchain.com/docs/how_to/graph_constructing/](https://js.langchain.com/docs/how_to/graph_constructing/)
    
26. How to construct knowledge graphs | ğŸ¦œï¸ LangChain, 9æœˆ 14, 2025ã«ã‚¢ã‚¯ã‚»ã‚¹ã€ [https://python.langchain.com/docs/how_to/graph_constructing/](https://python.langchain.com/docs/how_to/graph_constructing/)
    
27. getzep/graphiti: Build Real-Time Knowledge Graphs for AI Agents - GitHub, 9æœˆ 14, 2025ã«ã‚¢ã‚¯ã‚»ã‚¹ã€ [https://github.com/getzep/graphiti](https://github.com/getzep/graphiti)
    
28. What is LangGraph? - IBM, 9æœˆ 14, 2025ã«ã‚¢ã‚¯ã‚»ã‚¹ã€ [https://www.ibm.com/think/topics/langgraph](https://www.ibm.com/think/topics/langgraph)
    
29. LangGraph Tutorial: Building LLM Agents with LangChain's Agent Framework - Zep, 9æœˆ 14, 2025ã«ã‚¢ã‚¯ã‚»ã‚¹ã€ [https://www.getzep.com/ai-agents/langgraph-tutorial/](https://www.getzep.com/ai-agents/langgraph-tutorial/)
    
30. Improved Knowledge Graph Creation with LangChain and LlamaIndex - Memgraph, 9æœˆ 14, 2025ã«ã‚¢ã‚¯ã‚»ã‚¹ã€ [https://memgraph.com/blog/improved-knowledge-graph-creation-langchain-llamaindex](https://memgraph.com/blog/improved-knowledge-graph-creation-langchain-llamaindex)
    
31. How to incorporate a knowledge graph in RAG : r/LangChain - Reddit, 9æœˆ 14, 2025ã«ã‚¢ã‚¯ã‚»ã‚¹ã€ [https://www.reddit.com/r/LangChain/comments/1duz8qc/how_to_incorporate_a_knowledge_graph_in_rag/](https://www.reddit.com/r/LangChain/comments/1duz8qc/how_to_incorporate_a_knowledge_graph_in_rag/)
    
32. Building Knowledge Graphs with LLM Graph Transformer | by Tomaz Bratanic - Medium, 9æœˆ 14, 2025ã«ã‚¢ã‚¯ã‚»ã‚¹ã€ [https://medium.com/data-science/building-knowledge-graphs-with-llm-graph-transformer-a91045c49b59](https://medium.com/data-science/building-knowledge-graphs-with-llm-graph-transformer-a91045c49b59)
    
33. Build a Multi-Agent System with LangGraph and Mistral on AWS | Artificial Intelligence, 9æœˆ 14, 2025ã«ã‚¢ã‚¯ã‚»ã‚¹ã€ [https://aws.amazon.com/blogs/machine-learning/build-a-multi-agent-system-with-langgraph-and-mistral-on-aws/](https://aws.amazon.com/blogs/machine-learning/build-a-multi-agent-system-with-langgraph-and-mistral-on-aws/)
    
